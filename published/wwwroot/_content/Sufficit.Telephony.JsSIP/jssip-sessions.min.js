export function Reference(n){DotNetObjectReference=n}export function onJsSIPSession(t){const i=WebPhone._sessions[t.id];i.on("newDTMF",t=>n(i,"newDTMF",t));i.on("newInfo",t=>n(i,"newInfo",t));i.on("hold",t=>n(i,"hold",t));i.on("muted",t=>n(i,"muted",t));i.on("unhold",t=>n(i,"unhold",t));i.on("unmuted",t=>n(i,"unmuted",t));i.on("progress",t=>n(i,"progress",t));i.on("succeeded",t=>n(i,"succeeded",t));i.on("failed",t=>n(i,"failed",t));i.on("ended",t=>n(i,"ended",t));i.on("confirmed",t=>n(i,"confirmed",t));i.on("connecting",t=>n(i,"connecting",t));i.on("accepted",t=>n(i,"accepted",t));i.on("peerconnection",t=>n(i,"peerconnection",t))}function n(n,t,i){(t==="peerconnection"||t==="connecting")&&n.connection&&n.connection.addEventListener("addstream",u);let f=`on${t.charAt(0).toUpperCase()}${t.slice(1)}`;i.toJSON=r;console.debug(`dispatchSessionEvent: ${f}`,n);DotNetObjectReference.invokeMethodAsync(f,n,i)}function r(){let i=["originator","cause"],t={};for(var n in this)if(i.includes(n)){let i=n;i.startsWith("_")&&(i=i.slice(1));t[i]=this[n]}return t}function u(n){const t=n.stream.getTracks();console.debug("onAddstream, event, tracks: ",n,t);t.forEach(f)}function f(n){let r;if(n.kind==="audio")r=document.getElementById(t),r||(r=document.createElement("audio"),r.id=t,document.body.appendChild(r));else if(n.kind==="video")r=document.getElementById(i),r||(r=document.createElement("video"),r.id=i,document.body.appendChild(r));else{console.error("unknown media stream");return}const u=new MediaStream([n]);"srcObject"in r?r.srcObject=u:r.src=URL.createObjectURL(u);r.play()}export function JsSIPSessionActions(n,t,i){const r=WebPhone._sessions[n.id];switch(t){case"answer":r.answer(i);break;case"terminate":r.terminate();break;case"mute":r.mute(i);break;case"unmute":r.unmute(i);break;case"hold":r.hold();break;case"unhold":r.unhold();break;case"Papayas":console.log("Mangoes and papayas are $2.79 a pound.");break;default:console.log(`Sorry, we are out of ${t}.`)}}export var DotNetObjectReference;let t="audio-player-remote",i="media-player-remote";export const Originate=function(n,t){WebPhone.call(n,t)},Answer=function(n,t){const i=WebPhone._sessions[n];i.answer(t)};