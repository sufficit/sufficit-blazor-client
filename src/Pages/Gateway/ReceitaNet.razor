@attribute [Route(RouteParameter)]
@attribute [Authorize]
@inherits BasePageComponent
@using Sufficit.Gateway.ReceitaNet

<MudGrid Class="mt-5">
    <MudItem xs="12">
        @if (ContextView.ContextId.GetValueOrDefault() == Guid.Empty)
        {
            <MudPaper Elevation="0" Style="background-color: transparent;"
                  Class="px-md-16 py-16 d-flex align-center justify-center mud-width-full">
                <ClientMissing></ClientMissing>
            </MudPaper>
        }
        else
        {
            <MudCard Class="pa-3">
                <MudCardContent>
                    <MudStack Row="true">
                        <MudGrid>
                            <MudStack>
                                <MudStack Style="padding-bottom: 12px;padding-bottom: 12px;width: fit-content;margin: auto; background:white; padding:0 12px; z-index:10">
                                    <MudStack Style="text-align:center">
                                        <MudStack Row="true" Style="align-items:center">
                                            <MudIcon Icon="@Icons.Material.Filled.PowerSettingsNew" Title="PowerSettingsNew" />
                                            <MudText Typo="Typo.h5">
                                                Última atualização
                                            </MudText>
                                        </MudStack>
                                        <MudText Typo="Typo.body1" Style="text-transform: capitalize;margin-top: -14px;">
                                            @DateTime.Now
                                        </MudText>
                                    </MudStack>
                                </MudStack>

                                <MudDivider Style="margin-top: -40px" />

                                <MudGrid>
                                    <MudItem xs="12" lg="3">
                                        <MudCard>
                                            <MudCardHeader>
                                                <CardHeaderContent>
                                                    <MudStack Row="true">
                                                        <MudIcon Icon="@Icons.Material.Filled.PowerSettingsNew" />
                                                        <MudText Typo="Typo.h6">
                                                            Habilitado
                                                        </MudText>
                                                    </MudStack>
                                                </CardHeaderContent>
                                            </MudCardHeader>
                                            <MudCardContent Style="min-height: 160px">
                                                <MudText Style="margin-top:8px">
                                                    Ao desativar, todas as chamadas serão
                                                    encaminhadas automaticamente para o destino de falha.
                                                </MudText>
                                            </MudCardContent>
                                            <MudCardActions>
                                                <MudSwitchButton @bind-Checked="Options.Enabled">
                                                    <MudIcon Icon="@Icons.Material.Filled.PowerSettingsNew" />
                                                    <MudText Style="margin-left:10px">
                                                        habilitado
                                                    </MudText>
                                                </MudSwitchButton>
                                            </MudCardActions>
                                        </MudCard>
                                    </MudItem>
                                    <MudItem xs="12" lg="3">
                                        <MudCard Style="box-shadow:none">
                                            <MudCardHeader>
                                                <CardHeaderContent>
                                                    <MudStack Row="true" Style="display:flex; align-items:center">
                                                        <MudIcon Icon="@Icons.Material.Filled.Key" />
                                                        <MudText Typo="Typo.h6">
                                                            Protocolo
                                                        </MudText>
                                                    </MudStack>
                                                </CardHeaderContent>
                                            </MudCardHeader>
                                            <MudCardContent Style="min-height: 160px">
                                                <MudText>Informar protocolo sempre que estiver disponível ?</MudText>
                                                <MudText Style="margin-top:8px">
                                                    Normalmente após algum relato de problema
                                                    técnico ou financeiro.
                                                </MudText>
                                            </MudCardContent>
                                            <MudCardActions>
                                                <MudButton Variant="Variant.Filled" Color="Color.Primary" FullWidth>
                                                    <MudIcon Icon="@Icons.Material.Filled.PowerSettingsNew"
                                                             Title="PowerSettingsNew" />
                                                    <MudText Style="margin-left:10px">
                                                        protocolo
                                                    </MudText>
                                                </MudButton>
                                            </MudCardActions>
                                        </MudCard>
                                    </MudItem>
                                    <MudItem xs="12" lg="3">
                                        <MudCard Style="box-shadow:none">
                                            <MudCardHeader>
                                                <CardHeaderContent>
                                                    <MudStack Row="true" Style="display:flex; align-items:center">
                                                        <MudIcon Icon="@Icons.Material.Filled.AccountBalance" Title="Money" />
                                                        <MudText Typo="Typo.h6">
                                                            Financeiro
                                                        </MudText>
                                                    </MudStack>
                                                </CardHeaderContent>
                                            </MudCardHeader>
                                            <MudCardContent Style="min-height: 160px">
                                                <MudText>Informar opções financeiras mesmo sem fatura em atraso ?</MudText>
                                                <MudText Style="margin-top:8px">
                                                    A opção de emissão e envio de faturas será
                                                    disponibilizada sempre que houver algum boleto disponível no sistema.
                                                </MudText>
                                            </MudCardContent>
                                            <MudCardActions>
                                                <MudButton Variant="Variant.Filled" Color="Color.Primary" FullWidth>
                                                    <MudIcon Icon="@Icons.Material.Filled.AccountBalance" Title="Money" />
                                                    <MudText Style="margin-left:10px">
                                                        financeiro
                                                    </MudText>
                                                </MudButton>
                                            </MudCardActions>
                                        </MudCard>
                                    </MudItem>
                                    <MudItem xs="12" lg="3">
                                        <MudCard Style="box-shadow:none">
                                            <MudCardHeader>
                                                <CardHeaderContent>
                                                    <MudStack Row="true" Style="display:flex; align-items:center">
                                                        <MudIcon Icon="@Icons.Material.Filled.KeyboardVoice"
                                                                 Title="KeyboardVoice" />
                                                        <MudText Typo="Typo.h6">
                                                            Locução
                                                        </MudText>
                                                    </MudStack>
                                                </CardHeaderContent>
                                            </MudCardHeader>
                                            <MudCardContent Style="min-height: 160px">
                                                <MudText>Ativar / Desativar</MudText>
                                                <MudText Style="margin-top:8px">
                                                    Será usada essa voz para todos os áudios
                                                    fixos do menu, não se aplica as respostas personalizadas como Protocolo.
                                                </MudText>
                                            </MudCardContent>
                                            <MudCardActions>
                                                <MudSelect Margin="Margin.Dense" @bind-Value="Options.Announcer" T="RNAnnouncer" Variant="Variant.Outlined">
                                                    @foreach(var announcer in Enum.GetValues<RNAnnouncer>()) {
                                                        <MudSelectItem Value="@announcer">@Sufficit.EnumExtensions.GetEnumDescription(announcer)</MudSelectItem>
                                                    }
                                                </MudSelect>
                                            </MudCardActions>
                                        </MudCard>
                                    </MudItem>
                                </MudGrid>

                            <MudDivider />

                            <MudStack>
                                <MudText Typo="Typo.h6"># Tokens</MudText>
                                <MudText>Chaves fornecidas pelo desenvolvedor do software. (há custos mensais)</MudText>
                                <MudText>
                                    Caso você possua mais de um provedor ou mais de uma chave de acesso, coloque-as
                                    separadas por ";"
                                </MudText>
                                <MudTextField Style="margin-top:10px" Variant="Variant.Outlined" T="string" Text="" />
                            </MudStack>

                            <MudDivider />

                            <MudPaper Style="padding:20px; margin-bottom:40px">
                                <MudText class="ui sub header">Opções de destino</MudText>
                                <MudStack>
                                    <MudGrid>
                                        <MudHidden Breakpoint="Breakpoint.SmAndDown" Invert="true">
                                            <MudItem xs="12" Style="display:flex; justify-content:space-between; margin-bottom:-16px; margin-top:16px">
                                                <MudTooltip Text="Saída usada caso o sistema apresente qualquer tipo de falha" Placement="Placement.Right" Arrow="true">
                                                    <MudIconButton Style="height:39px; width:39px; margin-bottom:3px" Icon="@Icons.Material.TwoTone.Info" Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Medium" />
                                                </MudTooltip>
                                                <MudIconButton OnClick=@(() => null!) Style="height:39px; width:39px; margin-bottom:3px" Icon="@Icons.Material.Filled.Delete" Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Medium" />
                                            </MudItem>
                                        </MudHidden>
                                        <MudItem Style="display: flex; align-items:end; gap:24px" md="4" xs="12">
                                            <MudHidden Breakpoint="Breakpoint.SmAndDown" Invert="false">
                                                <MudTooltip Text="Saída usada caso o sistema apresente qualquer tipo de falha" Placement="Placement.Right" Arrow="true">
                                                    <MudIconButton Style="height:39px; width:39px; margin-bottom:3px" Icon="@Icons.Material.TwoTone.Info" Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Medium" />
                                                </MudTooltip>
                                            </MudHidden>
                                            <MudTextField Margin="Margin.Dense" Style="margin-top:10px" Variant="Variant.Outlined" T="string" Text=""/>
                                        </MudItem>
                                        <MudItem Style="display: flex; align-items:end; gap:24px" md="8" xs="12">
                                            <MudTextField Margin="Margin.Dense" Style="min-width:100%" DebounceInterval="500" T="string" Text="" Label="Destino" Variant="Variant.Outlined" Adornment="Adornment.End" AdornmentIcon="@Icons.Material.Filled.Search" />
                                            <MudHidden Breakpoint="Breakpoint.SmAndDown" Invert="false">
                                                <MudIconButton OnClick=@(() => null!) Style="height:39px; width:39px; margin-bottom:3px" Icon="@Icons.Material.Filled.Delete" Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Medium" />
                                            </MudHidden>
                                        </MudItem>
                                    </MudGrid>
                                    <MudGrid>
                                        <MudHidden Breakpoint="Breakpoint.SmAndDown" Invert="true">
                                            <MudItem xs="12" Style="display:flex; justify-content:space-between; margin-bottom:-16px; margin-top:16px">
                                                <MudTooltip Text="Chamada encerrada com sucesso | Atendimento concluído e cliente satisfeito" Placement="Placement.Right" Arrow="true">
                                                    <MudIconButton Style="height:39px; width:39px; margin-bottom:3px" Icon="@Icons.Material.TwoTone.Info" Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Medium" />
                                                </MudTooltip>
                                                <MudIconButton OnClick=@(() => null!) Style="height:39px; width:39px; margin-bottom:3px" Icon="@Icons.Material.Filled.Delete" Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Medium" />
                                            </MudItem>
                                        </MudHidden>
                                        <MudItem Style="display: flex; align-items:end; gap:24px" md="4" xs="12">
                                            <MudHidden Breakpoint="Breakpoint.SmAndDown" Invert="false">
                                                <MudTooltip Text="Chamada encerrada com sucesso | Atendimento concluído e cliente satisfeito" Placement="Placement.Right" Arrow="true">
                                                    <MudIconButton Style="height:39px; width:39px; margin-bottom:3px" Icon="@Icons.Material.TwoTone.Info" Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Medium" />
                                                </MudTooltip>
                                            </MudHidden>
                                            <MudTextField Margin="Margin.Dense" Style="margin-top:10px" Variant="Variant.Outlined" T="string" Text="" />
                                        </MudItem>
                                        <MudItem Style="display: flex; align-items:end; gap:24px" md="8" xs="12">
                                            <MudTextField Margin="Margin.Dense" Style="min-width:100%" DebounceInterval="500" T="string" Text="" Label="Destino" Variant="Variant.Outlined" Adornment="Adornment.End" AdornmentIcon="@Icons.Material.Filled.Search" />
                                            <MudHidden Breakpoint="Breakpoint.SmAndDown" Invert="false">
                                                <MudIconButton OnClick=@(() =>null!) Style="height:39px; width:39px; margin-bottom:3px" Icon="@Icons.Material.Filled.Delete" Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Medium" />
                                            </MudHidden>
                                        </MudItem>
                                    </MudGrid>
                                    <MudGrid>
                                        <MudHidden Breakpoint="Breakpoint.SmAndDown" Invert="true">
                                            <MudItem xs="12" Style="display:flex; justify-content:space-between; margin-bottom:-16px; margin-top:16px">
                                                <MudIconButton Style="height:39px; width:39px; margin-bottom:3px" Icon="@Icons.Material.TwoTone.Info" Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Medium" />
                                                <MudIconButton OnClick=@(() => null!) Style="height:39px; width:39px; margin-bottom:3px" Icon="@Icons.Material.Filled.Delete" Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Medium" />
                                            </MudItem>
                                        </MudHidden>
                                        <MudItem Style="display: flex; align-items:end; gap:24px" md="4" xs="12">
                                            <MudHidden Breakpoint="Breakpoint.SmAndDown" Invert="false">
                                                <MudTooltip Text="Saída usada caso o cliente foi identificado e por algum motivo solicitou ser atendido por uma pessoa | Normalmente tecla 9" Placement="Placement.Right" Arrow="true">
                                                    <MudIconButton Style="height:39px; width:39px; margin-bottom:3px" Icon="@Icons.Material.TwoTone.Info" Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Medium" />
                                                </MudTooltip>
                                            </MudHidden>
                                            <MudTextField Margin="Margin.Dense" Style="margin-top:10px" Variant="Variant.Outlined" T="string" Text="" />
                                        </MudItem>
                                        <MudItem Style="display: flex; align-items:end; gap:24px" md="8" xs="12">
                                            <MudTextField Margin="Margin.Dense" Style="min-width:100%" DebounceInterval="500" Label="Destino" T="string" Text="" Variant="Variant.Outlined" Adornment="Adornment.End" AdornmentIcon="@Icons.Material.Filled.Search" />
                                            <MudHidden Breakpoint="Breakpoint.SmAndDown" Invert="false">
                                                <MudIconButton OnClick=@(() => null!) Style="height:39px; width:39px; margin-bottom:3px" Icon="@Icons.Material.Filled.Delete" Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Medium" />
                                            </MudHidden>
                                        </MudItem>
                                    </MudGrid>
                                    <MudGrid>
                                        <MudHidden Breakpoint="Breakpoint.SmAndDown" Invert="true">
                                            <MudItem xs="12" Style="display:flex; justify-content:space-between; margin-bottom:-16px; margin-top:16px">
                                                <MudTooltip Text="Saída usada caso o cliente foi identificado e está conectado | Outros assuntos ou provável instabilidade na conexão" Placement="Placement.Right" Arrow="true">
                                                    <MudIconButton Style="height:39px; width:39px; margin-bottom:3px" Icon="@Icons.Material.TwoTone.Info" Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Medium" />
                                                </MudTooltip>
                                                <MudIconButton OnClick=@(() => null!) Style="height:39px; width:39px; margin-bottom:3px" Icon="@Icons.Material.Filled.Delete" Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Medium" />
                                            </MudItem>
                                        </MudHidden>
                                        <MudItem Style="display: flex; align-items:end; gap:24px" md="4" xs="12">
                                            <MudHidden Breakpoint="Breakpoint.SmAndDown" Invert="false">
                                                <MudTooltip Text="Saída usada caso o cliente foi identificado e está conectado | Outros assuntos ou provável instabilidade na conexão" Placement="Placement.Right" Arrow="true">
                                                    <MudIconButton Style="height:39px; width:39px; margin-bottom:3px" Icon="@Icons.Material.TwoTone.Info" Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Medium" />
                                                </MudTooltip>
                                            </MudHidden>
                                            <MudTextField Margin="Margin.Dense" Style="margin-top:10px" T="string" Text="" Variant="Variant.Outlined" />
                                        </MudItem>
                                        <MudItem Style="display: flex; align-items:end; gap:24px" md="8" xs="12">
                                                <MudTextField Margin="Margin.Dense" Style="min-width:100%" DebounceInterval="500" T="string" Text="" Label="Destino" Variant="Variant.Outlined" Adornment="Adornment.End" AdornmentIcon="@Icons.Material.Filled.Search" />
                                            <MudHidden Breakpoint="Breakpoint.SmAndDown" Invert="false">
                                                <MudIconButton OnClick=@(() => null!) Style="height:39px; width:39px; margin-bottom:3px" Icon="@Icons.Material.Filled.Delete" Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Medium" />
                                            </MudHidden>
                                        </MudItem>
                                    </MudGrid>
                                    <MudGrid>
                                        <MudHidden Breakpoint="Breakpoint.SmAndDown" Invert="true">
                                            <MudItem xs="12" Style="display:flex; justify-content:space-between; margin-bottom:-16px; margin-top:16px">
                                                <MudTooltip Text="Saída usada quando o chamador não é cliente ou não conseguiu se identificar" Placement="Placement.Right" Arrow="true">
                                                    <MudIconButton Style="height:39px; width:39px; margin-bottom:3px" Icon="@Icons.Material.TwoTone.Info" Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Medium" />
                                                </MudTooltip>
                                                <MudIconButton OnClick=@(() => null!) Style="height:39px; width:39px; margin-bottom:3px" Icon="@Icons.Material.Filled.Delete" Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Medium" />
                                            </MudItem>
                                        </MudHidden>
                                        <MudItem Style="display: flex; align-items:end; gap:24px" md="4" xs="12">
                                            <MudHidden Breakpoint="Breakpoint.SmAndDown" Invert="false">
                                                <MudTooltip Text="Saída usada quando o chamador não é cliente ou não conseguiu se identificar" Placement="Placement.Right" Arrow="true">
                                                    <MudIconButton Style="height:39px; width:39px; margin-bottom:3px" Icon="@Icons.Material.TwoTone.Info" Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Medium" />
                                                </MudTooltip>
                                            </MudHidden>
                                            <MudTextField Margin="Margin.Dense" Style="margin-top:10px" Variant="Variant.Outlined" T="string" Text="" />
                                        </MudItem>
                                        <MudItem Style="display: flex; align-items:end; gap:24px" md="8" xs="12">
                                            <MudTextField Margin="Margin.Dense" Style="min-width:100%" DebounceInterval="500" Label="Destino" T="string" Text="" Variant="Variant.Outlined" Adornment="Adornment.End" AdornmentIcon="@Icons.Material.Filled.Search" />
                                            <MudHidden Breakpoint="Breakpoint.SmAndDown" Invert="false">
                                                <MudIconButton OnClick=@(() => null!) Style="height:39px; width:39px; margin-bottom:3px" Icon="@Icons.Material.Filled.Delete" Variant="Variant.Outlined" Color="Color.Primary" Size="Size.Medium" />
                                            </MudHidden>
                                        </MudItem>
                                    </MudGrid>
                                </MudStack>
                            </MudPaper>

                            <MudStack Style="width: fit-content; padding:0 20px; margin: auto; background: white; z-index: 10;">
                                <MudButton Variant="Variant.Outlined"
                                           StartIcon="@Icons.Material.Filled.SecurityUpdateGood"
                                           Color="Color.Primary"
                                           Style="width:fit-content"
                                           OnClick="@Save">
                                    Atualizar
                                </MudButton>
                            </MudStack>

                            <MudDivider Style="margin-top:-30px; margin-bottom:40px" />
                        </MudStack>
                        </MudGrid>
                    </MudStack>
                </MudCardContent>
            </MudCard>
        }
    </MudItem>
</MudGrid>