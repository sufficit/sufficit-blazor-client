@page "/pages/telephony/monitor/panel"
@attribute [Authorize]
@using Microsoft.AspNetCore.Authorization
@using Microsoft.Extensions.Options
@using Sufficit.Client
@using Sufficit.Telephony
@using Sufficit.Blazor.Client.Models
@inherits MonitorTelephonyBasePageComponent 

@if (ErrorConfig != null)
{
    <div class="alert alert-danger mb-0 m-3 text-white p-2">
        <h6 class="alert-heading p-0 m-0">Erro interno !</h6>
        <span class="alert-text text-xs">@ErrorConfig.GetType(): <small>@ErrorConfig.Message</small></span>
    </div>
} else {
    @if (Service.IsConfigured)
    {
        <EventsPanel></EventsPanel>
    } else if(!FirstRendered) {
        <div class="alert alert-info mb-0 m-3 text-white p-4">
            <h6 class="alert-heading p-0 m-0">Carregando ...</h6>
        </div>
    } else {
        <div class="alert alert-danger mb-0 m-3 text-white p-2">
            <h6 class="alert-heading p-0 m-0">Configuração não encontrada</h6>
        </div>
    }
}