@attribute [Route(RouteParameter)]
@attribute [Authorize]
@inherits MonitorTelephonyBasePageComponent 
@using Microsoft.AspNetCore.Authorization
@using Microsoft.Extensions.Options
@using Sufficit.Blazor.Client.Pages.Telephony
@using Sufficit.Client
@using Sufficit.Telephony
@using Sufficit.Blazor.Client.Models

@if (ErrorConfig != null)
{
    <div class="alert alert-danger mb-0 m-3">
        <h4 class="alert-heading">Erro interno !</h4>
        <p>@ErrorConfig.GetType(): <small>@ErrorConfig.Message</small></p>
    </div>
}

<MudItem xs="12">
    <MudCard Class="pa-5">
        @if(Count == 0)
        {                                    
            <MudText Class="blinking">Aguardando canais ....</MudText>               
        } else {
            <MudCardHeader>
                Total @Count itens
            </MudCardHeader>
            <MudCardContent>
                <MudTable Items="@GetItems()">
                    <HeaderContent>
                        <MudTh>Canal</MudTh>
                        <MudTh>Ínicio</MudTh>
                        <MudTh>DID</MudTh>
                        <MudTh>Estado</MudTh>
                        <MudTh>Exten</MudTh>
                        <MudTh>Desligado</MudTh>
                    </HeaderContent>
                    <RowTemplate>
                        <ChannelsDataItem Item="@context"></ChannelsDataItem>
                    </RowTemplate>
                </MudTable>
            </MudCardContent>
        }
    </MudCard>
</MudItem>