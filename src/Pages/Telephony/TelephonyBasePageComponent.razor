@using SufficitBlazorClient.Models
@inherits BasePageComponent
@inject NavigationManager NavigationManager
@inject IBreadcrumbService BreadcrumbService

@code {
    protected override void OnAfterRender(bool firstRender)
    {
        if (firstRender)
        {
            BreadcrumbService
            .Set<HomeBreadcrumb>()
            .Set<PagesBreadcrumb>()
            .Set<PageBreadcrumb>(new Dictionary<string, object>
            {
                ["title"] = "Telefonia",
                ["description"] = "Painel de Telefonia",
                ["link"] = "/pages/telephony"
            })
            .Set<PageBreadcrumb>(new Dictionary<string, object>
            {
                ["title"] = Title,
                ["description"] = Description,
                ["link"] = NavigationManager.ToBaseRelativePath(NavigationManager.Uri)
            });

            BreadcrumbService.Description = Description;
        }
    }
}
